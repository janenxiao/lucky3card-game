(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a.p+"media/iconCoins.1e91ff4b.svg"},12:function(e,t,a){e.exports=a(24)},18:function(e,t,a){},20:function(e,t,a){},24:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(9),r=a.n(s),i=a(11),o=a(6),c=a(1),u=a(2),d=a(4),m=a(3),p=a(5),h=a(7),f=(a(18),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={visible:!0},a.toggleVisibility=function(){a.setState({visible:!a.state.visible})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"col-lg-3 d-none d-lg-block bg-light"+(this.state.visible?"":" invisible"),id:"sidebar-wrapper"},l.a.createElement("div",{className:"sidebar-sticky"},l.a.createElement("button",{className:"btn btn-link btn-sm visible",type:"button",onClick:this.toggleVisibility},this.state.visible?"Hide":"Show Instructions"),l.a.createElement("h6",null,"Instructions"),l.a.createElement("ol",null,l.a.createElement("li",null,"Learn the rules of ",l.a.createElement("span",{className:"font-italic"},"Three Card Poker")),l.a.createElement("li",null,"Click on ANY of the 3 cards on the bottom to flip"),l.a.createElement("li",null,"Place ante before flipping the last card"),l.a.createElement("li",null,"Place wager and play, or fold. ",l.a.createElement("span",{className:"font-weight-light"},"Wager can't be greater than ante.")),l.a.createElement("li",null,"If fold, ante will be deducted"),l.a.createElement("li",null,"If play, ante and wager will be paid or lost based on result"),l.a.createElement("li",null,"Opponent will gain or lose the same amount")),l.a.createElement("h6",null,"Hand ranks"),l.a.createElement("ol",null,l.a.createElement("li",{title:"Three cards of same suit in sequence"},"Straight flush"),l.a.createElement("li",{title:"Three cards of same rank"},"Three of a kind"),l.a.createElement("li",{title:"Three cards in sequence"},"Straight"),l.a.createElement("li",{title:"Three cards of same suit"},"Flush"),l.a.createElement("li",{title:"Two cards of same rank"},"Pair"),l.a.createElement("li",null,"High card"))))}}]),t}(n.Component)),g=(a(20),a(10)),y=a.n(g),b=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={revealedCount:0,ante:1,anteEnabled:!0,wager:1,playEnabled:!1,roundResult:"",gameResult:""},a.incrementAnte=function(){var e=a.state;e.ante+e.wager>=a.props.playerData.coins?alert("Hey that's all the money you've got to ante!"):a.setState({ante:a.state.ante+1})},a.incrementWager=function(){var e=a.state,t=e.ante,n=e.wager;t+n>=a.props.playerData.coins?alert("Hey that's all the money you've got to bet!"):n>=t?alert("Hey wager can't be more than ante"):a.setState({wager:a.state.wager+1})},a.handlePlay=function(e){if(a.props.playerData.isUser){var t=a.state,n=t.ante,l=t.wager,s=a.props.onPlay(e,n,l),r=s[0];s.length>1&&a.setState({gameResult:s[1]}),a.setState({ante:0,wager:0,playEnabled:!1,roundResult:r})}},a.handleNewRound=function(){if(a.props.playerData.isUser){var e=""!==a.state.gameResult;a.props.onNewRound(e);var t=!e&&a.props.playerData.coins<2?0:1;a.setState({revealedCount:0,ante:1,anteEnabled:!0,wager:t,roundResult:"",gameResult:""})}},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-8"},l.a.createElement("div",{style:{maxWidth:353}},l.a.createElement("h5",{style:{fontFamily:"cursive"}},this.getPlayerType()),l.a.createElement("div",{id:this.getCardContainerId()},this.props.playerData.cards.map(function(t){return l.a.createElement("img",{src:"static/react"+e.getCardImg(t),style:e.getCardStyle(t.index),className:"img-fluid",onClick:function(){return e.imgReveal(t)},alt:"card".concat(t.index),key:"card".concat(t.index)})}),""!==this.state.roundResult&&l.a.createElement("img",{src:"".concat("static/react","/img/").concat(this.state.roundResult,".gif"),className:"img-fluid",id:"roundResult-gif",alt:this.state.roundResult}),""!==this.state.gameResult&&l.a.createElement("div",{id:"gameResult",className:"You win!"===this.state.gameResult?"darksalmonred":"greyshadow"},this.state.gameResult)))),l.a.createElement("div",{className:"col-4 align-self-center"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("img",{src:y.a,className:"img-fluid",alt:"Coins"}),l.a.createElement("span",{style:{position:"relative"}},l.a.createElement("span",{className:"m-2 font-weight-bold"},this.props.playerData.coins),""!==this.props.playerData.coinsUpdate&&l.a.createElement("span",{id:"coins-update",className:"m-2 font-weight-bold"},this.props.playerData.coinsUpdate))),this.props.playerData.isUser&&l.a.createElement("div",{className:"col",style:{minWidth:120}},l.a.createElement("div",null,l.a.createElement("span",{className:"font-weight-light w-33"},"ante"),l.a.createElement("span",{className:"w-33 text-center"},this.state.ante),this.state.anteEnabled&&l.a.createElement("button",{className:"btn btn-warning btn-sm",onClick:this.incrementAnte},"+")),l.a.createElement("div",null,l.a.createElement("span",{className:"font-weight-light w-33"},"wager"),l.a.createElement("span",{className:"w-33 text-center"},this.state.wager),this.state.playEnabled&&l.a.createElement("button",{className:"btn btn-warning btn-sm",onClick:this.incrementWager},"+")))),""!==this.props.playerData.coinsUpdate&&l.a.createElement("span",{className:"m-2 font-weight-light"},this.props.playerData.typeOfHand),function(){if(e.props.playerData.isUser){if(e.state.playEnabled)return l.a.createElement("div",null,l.a.createElement("button",{className:"btn btn-success m-2",onClick:function(){return e.handlePlay(!0)}},"Play"),l.a.createElement("button",{className:"btn btn-secondary m-2",onClick:function(){return e.handlePlay(!1)}},"Fold"));if(""!==e.state.gameResult)return l.a.createElement("button",{className:"btn btn-success m-2",onClick:e.handleNewRound},"New Game");if(""!==e.props.playerData.coinsUpdate)return l.a.createElement("button",{className:"btn btn-success m-2",onClick:e.handleNewRound},"Continue")}}()))}},{key:"getCardImg",value:function(e){return e.revealed?"/cards/".concat(e.cardstr,".svg"):"/cards/cardback.svg"}},{key:"imgReveal",value:function(e){if(this.props.playerData.isUser&&!e.revealed){var t=this.state.revealedCount;2===t&&this.setState({anteEnabled:!1,playEnabled:!0}),this.setState({revealedCount:t+1}),this.props.onReveal(e)}}},{key:"getCardStyle",value:function(e){var t={left:"".concat(16*e,"%")};return 0!==e&&(t.position="absolute"),t}},{key:"getCardContainerId",value:function(){return"cardcontainer-"+(this.props.playerData.isUser?"user":"oppo")}},{key:"getPlayerType",value:function(){return this.props.playerData.isUser?"You":"Opponent"}}]),t}(n.Component),v=function(e){function t(e){var a;if(Object(c.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).fillInitialPlayerData=function(e){var t=e[0].pop(),n=e.map(function(e){return a.fillPlayerData(e)});n[0].isUser=!0,n[1].isUser=!1,a.state={user:n[0],oppo:n[1],userResult:t}},a.handleReveal=function(e){var t=Object(o.a)({},a.state.user);t.cards=Object(i.a)(t.cards),t.cards[e.index]=Object(o.a)({},e),t.cards[e.index].revealed=!0,a.setState({user:t})},a.handlePlay=function(e,t,n){var l,s,r,i=Object(o.a)({},a.state.user);e?"win"===a.state.userResult?(r=t+n,l="playwin"):"lose"===a.state.userResult?(r=-1*(t+n),l="playlose"):(r=0,l="tie"):(r=-1*t,l="lose"===a.state.userResult?"foldlose":"foldwin"),i.coins+=r,i.coinsUpdate=(r>=0?"+":"")+r.toString();var c=Object(o.a)({},a.state.oppo);return c.cards=c.cards.map(function(e){return Object(o.a)({},e,{revealed:!0})}),r*=-1,c.coins+=r,c.coinsUpdate=(r>=0?"+":"")+r.toString(),s=i.coins<=0?[l,"Good game"]:c.coins<=0?[l,"You win!"]:[l],a.setState({user:i,oppo:c}),s},a.fillNewRoundPlayerData=function(e){var t,n,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=e[0].pop();l?(t=a.fillPlayerData(e[0]),n=a.fillPlayerData(e[1])):(t=a.fillPlayerData(e[0],a.state.user.coins),n=a.fillPlayerData(e[1],a.state.oppo.coins)),t.isUser=!0,n.isUser=!1,a.setState({user:t,oppo:n,userResult:s})},a.handleNewRound=function(e){fetch("/get_handList").then(function(t){var a=this;if(200!==t.status)return console.log("Fetch Error: Status Code: "+t.status),void alert("Fetch Error: Status Code: "+t.status);t.json().then(function(t){return a.fillNewRoundPlayerData(t,e)})}.bind(Object(h.a)(Object(h.a)(a)))).catch(function(e){console.log("Fetch Error: ",e),alert("Fetch Error: ",e)})},"handList"in window)a.fillInitialPlayerData(window.handList);else{a.fillInitialPlayerData([["6c","4d","10h","High card","lose"],["12c","7h","10s","High card"]]),a.handleNewRound(!1)}return a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"fillPlayerData",value:function(e){return{coins:arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,coinsUpdate:"",typeOfHand:e.pop(),cards:e.map(function(e,t){return{index:t,revealed:!1,cardstr:e}})}}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row justify-content-end"},l.a.createElement(f,null),l.a.createElement("div",{className:"col col-lg-9"},l.a.createElement(b,{playerData:this.state.oppo}),l.a.createElement("div",{style:{marginTop:"10vh"}},l.a.createElement(b,{playerData:this.state.user,onReveal:this.handleReveal,onPlay:this.handlePlay,onNewRound:this.handleNewRound})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(22);r.a.render(l.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[12,2,1]]]);
//# sourceMappingURL=main.82cbec50.chunk.js.map